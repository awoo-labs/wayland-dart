// Generated by dart-wayland-scanner
// https://github.com/your-repo/dart-wayland-scanner
// XML file : https://gitlab.freedesktop.org/wayland/wayland-protocols/-/raw/main/unstable/primary-selection/primary-selection-unstable-v1.xml
//
// wp_primary_selection_unstable_v1 Protocol Copyright: 
/// 
/// Copyright Â© 2015, 2016 Red Hat
/// 
/// Permission is hereby granted, free of charge, to any person obtaining a
/// copy of this software and associated documentation files (the "Software"),
/// to deal in the Software without restriction, including without limitation
/// the rights to use, copy, modify, merge, publish, distribute, sublicense,
/// and/or sell copies of the Software, and to permit persons to whom the
/// Software is furnished to do so, subject to the following conditions:
/// 
/// The above copyright notice and this permission notice (including the next
/// paragraph) shall be included in all copies or substantial portions of the
/// Software.
/// 
/// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
/// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
/// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
/// THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
/// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
/// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
/// DEALINGS IN THE SOFTWARE.
/// 

library client;

import 'package:wayland/wayland.dart';
import 'package:wayland/generated/wayland.dart';
import 'dart:async';
import 'dart:typed_data';


/// X primary selection emulation
/// 
/// The primary selection device manager is a singleton global object that
/// provides access to the primary selection. It allows to create
/// wp_primary_selection_source objects, as well as retrieving the per-seat
/// wp_primary_selection_device objects.
/// 
class ZwpPrimarySelectionDeviceManagerV1 extends Proxy{
  final Context context;

  ZwpPrimarySelectionDeviceManagerV1(this.context) : super(context.allocateClientId()){
    context.register(this);
  }

/// create a new primary selection source
/// 
/// Create a new primary selection source.
/// 
/// [id]:
  Future<ZwpPrimarySelectionSourceV1> createSource() async {
  var id =  ZwpPrimarySelectionSourceV1(context);
    print("ZwpPrimarySelectionDeviceManagerV1::createSource  id: $id");
    final message = WaylandMessage(
      objectId,
      0,
      [
        id,
      ],
      [
        WaylandType.newId,
      ],
    );
    await context.sendMessage(message);
    return id;
  }

/// create a new primary selection device
/// 
/// Create a new data device for a given seat.
/// 
/// [id]:
/// [seat]:
  Future<ZwpPrimarySelectionDeviceV1> getDevice(Seat seat) async {
  var id =  ZwpPrimarySelectionDeviceV1(context);
    print("ZwpPrimarySelectionDeviceManagerV1::getDevice  id: $id seat: $seat");
    final message = WaylandMessage(
      objectId,
      1,
      [
        id,
        seat,
      ],
      [
        WaylandType.newId,
        WaylandType.object,
      ],
    );
    await context.sendMessage(message);
    return id;
  }

/// destroy the primary selection device manager
/// 
/// Destroy the primary selection device manager.
/// 
  Future<void> destroy() async {
    print("ZwpPrimarySelectionDeviceManagerV1::destroy ");
    final message = WaylandMessage(
      objectId,
      2,
      [
      ],
      [
      ],
    );
    await context.sendMessage(message);
  }

}


/// introduce a new wp_primary_selection_offer
/// 
/// Introduces a new wp_primary_selection_offer object that may be used
/// to receive the current primary selection. Immediately following this
/// event, the new wp_primary_selection_offer object will send
/// wp_primary_selection_offer.offer events to describe the offered mime
/// types.
/// 
class ZwpPrimarySelectionDeviceV1DataOfferEvent {
/// 
  final int offer;

  ZwpPrimarySelectionDeviceV1DataOfferEvent(
this.offer,

);

@override
String toString(){
  return """ZwpPrimarySelectionDeviceV1DataOfferEvent: {
    offer: $offer,
  }""";
}

}

typedef ZwpPrimarySelectionDeviceV1DataOfferEventHandler = void Function(ZwpPrimarySelectionDeviceV1DataOfferEvent);

/// advertise a new primary selection
/// 
/// The wp_primary_selection_device.selection event is sent to notify the
/// client of a new primary selection. This event is sent after the
/// wp_primary_selection.data_offer event introducing this object, and after
/// the offer has announced its mimetypes through
/// wp_primary_selection_offer.offer.
/// 
/// The data_offer is valid until a new offer or NULL is received
/// or until the client loses keyboard focus. The client must destroy the
/// previous selection data_offer, if any, upon receiving this event.
/// 
class ZwpPrimarySelectionDeviceV1SelectionEvent {
/// 
  final int id;

  ZwpPrimarySelectionDeviceV1SelectionEvent(
this.id,

);

@override
String toString(){
  return """ZwpPrimarySelectionDeviceV1SelectionEvent: {
    id: $id,
  }""";
}

}

typedef ZwpPrimarySelectionDeviceV1SelectionEventHandler = void Function(ZwpPrimarySelectionDeviceV1SelectionEvent);


/// 
/// 
class ZwpPrimarySelectionDeviceV1 extends Proxy implements Dispatcher{
  final Context context;

  ZwpPrimarySelectionDeviceV1(this.context) : super(context.allocateClientId()){
    context.register(this);
  }

/// set the primary selection
/// 
/// Replaces the current selection. The previous owner of the primary
/// selection will receive a wp_primary_selection_source.cancelled event.
/// 
/// To unset the selection, set the source to NULL.
/// 
/// [source]:
/// [serial]: serial of the event that triggered this request
  Future<void> setSelection(ZwpPrimarySelectionSourceV1 source, int serial) async {
    print("ZwpPrimarySelectionDeviceV1::setSelection  source: $source serial: $serial");
    final message = WaylandMessage(
      objectId,
      0,
      [
        source,
        serial,
      ],
      [
        WaylandType.object,
        WaylandType.uint,
      ],
    );
    await context.sendMessage(message);
  }

/// destroy the primary selection device
/// 
/// Destroy the primary selection device.
/// 
  Future<void> destroy() async {
    print("ZwpPrimarySelectionDeviceV1::destroy ");
    final message = WaylandMessage(
      objectId,
      1,
      [
      ],
      [
      ],
    );
    await context.sendMessage(message);
  }

/// introduce a new wp_primary_selection_offer
/// 
/// Introduces a new wp_primary_selection_offer object that may be used
/// to receive the current primary selection. Immediately following this
/// event, the new wp_primary_selection_offer object will send
/// wp_primary_selection_offer.offer events to describe the offered mime
/// types.
/// 
/// Event handler for DataOffer
/// - [offer]:
 void onDataOffer(ZwpPrimarySelectionDeviceV1DataOfferEventHandler handler) {
   _dataOfferHandler = handler;
 }

 ZwpPrimarySelectionDeviceV1DataOfferEventHandler? _dataOfferHandler;

/// advertise a new primary selection
/// 
/// The wp_primary_selection_device.selection event is sent to notify the
/// client of a new primary selection. This event is sent after the
/// wp_primary_selection.data_offer event introducing this object, and after
/// the offer has announced its mimetypes through
/// wp_primary_selection_offer.offer.
/// 
/// The data_offer is valid until a new offer or NULL is received
/// or until the client loses keyboard focus. The client must destroy the
/// previous selection data_offer, if any, upon receiving this event.
/// 
/// Event handler for Selection
/// - [id]:
 void onSelection(ZwpPrimarySelectionDeviceV1SelectionEventHandler handler) {
   _selectionHandler = handler;
 }

 ZwpPrimarySelectionDeviceV1SelectionEventHandler? _selectionHandler;

 @override
 void dispatch(int opcode, int fd, Uint8List data) {
   switch (opcode) {
     case 0:
       if (_dataOfferHandler != null) {
var event = ZwpPrimarySelectionDeviceV1DataOfferEvent(
           context.getProxy(ByteData.view(data.buffer).getUint32(0, Endian.little)).objectId,
        );
         _dataOfferHandler!(event);
       }
       break;
     case 1:
       if (_selectionHandler != null) {
var event = ZwpPrimarySelectionDeviceV1SelectionEvent(
           context.getProxy(ByteData.view(data.buffer).getUint32(0, Endian.little)).objectId,
        );
         _selectionHandler!(event);
       }
       break;
   }
 }
}


/// advertise offered mime type
/// 
/// Sent immediately after creating announcing the
/// wp_primary_selection_offer through
/// wp_primary_selection_device.data_offer. One event is sent per offered
/// mime type.
/// 
class ZwpPrimarySelectionOfferV1OfferEvent {
/// 
  final String mimeType;

  ZwpPrimarySelectionOfferV1OfferEvent(
this.mimeType,

);

@override
String toString(){
  return """ZwpPrimarySelectionOfferV1OfferEvent: {
    mimeType: $mimeType,
  }""";
}

}

typedef ZwpPrimarySelectionOfferV1OfferEventHandler = void Function(ZwpPrimarySelectionOfferV1OfferEvent);


/// offer to transfer primary selection contents
/// 
/// A wp_primary_selection_offer represents an offer to transfer the contents
/// of the primary selection clipboard to the client. Similar to
/// wl_data_offer, the offer also describes the mime types that the data can
/// be converted to and provides the mechanisms for transferring the data
/// directly to the client.
/// 
class ZwpPrimarySelectionOfferV1 extends Proxy implements Dispatcher{
  final Context context;

  ZwpPrimarySelectionOfferV1(this.context) : super(context.allocateClientId()){
    context.register(this);
  }

/// request that the data is transferred
/// 
/// To transfer the contents of the primary selection clipboard, the client
/// issues this request and indicates the mime type that it wants to
/// receive. The transfer happens through the passed file descriptor
/// (typically created with the pipe system call). The source client writes
/// the data in the mime type representation requested and then closes the
/// file descriptor.
/// 
/// The receiving client reads from the read end of the pipe until EOF and
/// closes its end, at which point the transfer is complete.
/// 
/// [mime_type]:
/// [fd]:
  Future<void> receive(String mimeType, int fd) async {
    print("ZwpPrimarySelectionOfferV1::receive  mimeType: $mimeType fd: $fd");
    final message = WaylandMessage(
      objectId,
      0,
      [
        mimeType,
        fd,
      ],
      [
        WaylandType.string,
        WaylandType.fd,
      ],
    );
    await context.sendMessage(message);
  }

/// destroy the primary selection offer
/// 
/// Destroy the primary selection offer.
/// 
  Future<void> destroy() async {
    print("ZwpPrimarySelectionOfferV1::destroy ");
    final message = WaylandMessage(
      objectId,
      1,
      [
      ],
      [
      ],
    );
    await context.sendMessage(message);
  }

/// advertise offered mime type
/// 
/// Sent immediately after creating announcing the
/// wp_primary_selection_offer through
/// wp_primary_selection_device.data_offer. One event is sent per offered
/// mime type.
/// 
/// Event handler for Offer
/// - [mime_type]:
 void onOffer(ZwpPrimarySelectionOfferV1OfferEventHandler handler) {
   _offerHandler = handler;
 }

 ZwpPrimarySelectionOfferV1OfferEventHandler? _offerHandler;

 @override
 void dispatch(int opcode, int fd, Uint8List data) {
   switch (opcode) {
     case 0:
       if (_offerHandler != null) {
var event = ZwpPrimarySelectionOfferV1OfferEvent(
           getString(data, 0),
        );
         _offerHandler!(event);
       }
       break;
   }
 }
}


/// send the primary selection contents
/// 
/// Request for the current primary selection contents from the client.
/// Send the specified mime type over the passed file descriptor, then
/// close it.
/// 
class ZwpPrimarySelectionSourceV1SendEvent {
/// 
  final String mimeType;

/// 
  final int fd;

  ZwpPrimarySelectionSourceV1SendEvent(
this.mimeType,

this.fd,

);

@override
String toString(){
  return """ZwpPrimarySelectionSourceV1SendEvent: {
    mimeType: $mimeType,
    fd: $fd,
  }""";
}

}

typedef ZwpPrimarySelectionSourceV1SendEventHandler = void Function(ZwpPrimarySelectionSourceV1SendEvent);

/// request for primary selection contents was canceled
/// 
/// This primary selection source is no longer valid. The client should
/// clean up and destroy this primary selection source.
/// 
class ZwpPrimarySelectionSourceV1CancelledEvent {
  ZwpPrimarySelectionSourceV1CancelledEvent(
);

@override
String toString(){
  return """ZwpPrimarySelectionSourceV1CancelledEvent: {
  }""";
}

}

typedef ZwpPrimarySelectionSourceV1CancelledEventHandler = void Function(ZwpPrimarySelectionSourceV1CancelledEvent);


/// offer to replace the contents of the primary selection
/// 
/// The source side of a wp_primary_selection_offer, it provides a way to
/// describe the offered data and respond to requests to transfer the
/// requested contents of the primary selection clipboard.
/// 
class ZwpPrimarySelectionSourceV1 extends Proxy implements Dispatcher{
  final Context context;

  ZwpPrimarySelectionSourceV1(this.context) : super(context.allocateClientId()){
    context.register(this);
  }

/// add an offered mime type
/// 
/// This request adds a mime type to the set of mime types advertised to
/// targets. Can be called several times to offer multiple types.
/// 
/// [mime_type]:
  Future<void> offer(String mimeType) async {
    print("ZwpPrimarySelectionSourceV1::offer  mimeType: $mimeType");
    final message = WaylandMessage(
      objectId,
      0,
      [
        mimeType,
      ],
      [
        WaylandType.string,
      ],
    );
    await context.sendMessage(message);
  }

/// destroy the primary selection source
/// 
/// Destroy the primary selection source.
/// 
  Future<void> destroy() async {
    print("ZwpPrimarySelectionSourceV1::destroy ");
    final message = WaylandMessage(
      objectId,
      1,
      [
      ],
      [
      ],
    );
    await context.sendMessage(message);
  }

/// send the primary selection contents
/// 
/// Request for the current primary selection contents from the client.
/// Send the specified mime type over the passed file descriptor, then
/// close it.
/// 
/// Event handler for Send
/// - [mime_type]:
/// - [fd]:
 void onSend(ZwpPrimarySelectionSourceV1SendEventHandler handler) {
   _sendHandler = handler;
 }

 ZwpPrimarySelectionSourceV1SendEventHandler? _sendHandler;

/// request for primary selection contents was canceled
/// 
/// This primary selection source is no longer valid. The client should
/// clean up and destroy this primary selection source.
/// 
/// Event handler for Cancelled
 void onCancelled(ZwpPrimarySelectionSourceV1CancelledEventHandler handler) {
   _cancelledHandler = handler;
 }

 ZwpPrimarySelectionSourceV1CancelledEventHandler? _cancelledHandler;

 @override
 void dispatch(int opcode, int fd, Uint8List data) {
   switch (opcode) {
     case 0:
       if (_sendHandler != null) {
var event = ZwpPrimarySelectionSourceV1SendEvent(
           getString(data, 0),
           fd,
        );
         _sendHandler!(event);
       }
       break;
     case 1:
       if (_cancelledHandler != null) {
var event = ZwpPrimarySelectionSourceV1CancelledEvent(
        );
         _cancelledHandler!(event);
       }
       break;
   }
 }
}

